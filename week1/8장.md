#프록시와 연관관계 관리 
- ##프록시와 연관관계 관리
  - 프록시
  - 즉시로딩
  - 지연로딩
  - 영속성 전이
  - 고아 객체

##8.1 프록시
### 프록시란
프록시는 클라이언트가 자신을 통해서 다른 네트워크 서비스에 간접적으로 접속할 수 있게 해 주는 컴퓨터 시스템이나 응용 프로그램을 가리킨다. 라고 설명이 나와있는데 크게 와닿지는 않는다.
- 지연로딩
  - 엔티티가 실제 사용될 떄까지 데이터베이스 조회를 지연하는 방법을 제공

이런 지연 로딩 기능을 사용하려면 실제 엔티티 객체 대신에 데이터베이스 조회를 지연할 수 있는 가짜 객체가 필요한데 
이것을 프록시 객체라 한다.    
(내 생각) 프록시를 설명을했을때 크게 와닿지않았는데 지연로딩과 프록시 객체를 공부하고 나니 조금 이해가 감

### 프록시의 특징

1. 프록시 클래스는 실제 클래스를 상속 받아서 만들어지므로 실제 클래스와 겉 모양이 같다.
2. 프록시 객체는 실제 객체에 대한 참조를 보관한다.
3. 프록시 객체는 처음 사용할 때 한번만 초기화된다.

### 프록시의 객체의 초기화

1. 프록시 객체에 member.getName()을 호출해서 실제 데이터를 조회한다.
2. 프록시 객체는 실제 엔티티가 생성되어 있지 않으면 영속성 컨텍스트에 실제 엔티티 생성을 요청하는데 이것을 초기화라 한다.
3. 영속성 컨텍스트는 데이터 베이스를 조회해서 실제 엔티티 객체를 생성한다
4. 프록시 객체는 생성된 엔티티 객체의 참조를 Member target 멤버 변수에 보관한다.
5. 프록시 객체는 실제 엔티티 객체의 getName()을 호출해서 결과를 반환한다.

###8.2 즉시 로딩과 지연 로딩
- 프록시 객체는 주로 연관된 엔티티를 지연 로딩할때 사용한다.
  -즉시로딩 : 엔티티를 조회할 때 연관된 엔티티도 함께 조회한다.
  -지연로딩 : 연관된 엔티티를 실제 사용할때 조회한다.
###8.3 지연 로딩 활용
- FetchType.EAGER 사용을 하지 않는다고 들었다.
  - 즉시 로딩을 적용한다면 예상하지 못한 SQL이 발생하고 N+1 문제를 일으킨다고 알고있다.
  - 가급적 지연 로딩을 사용해보자 
###8.4 영속성 전이: CASCADE
- 영속성 전이란 특정 엔티티를 영속성 상태로 만들 때 연관되어진 엔티티도 함께 영속성 상태로 변경 하는 것을 말합니다.   
###8.5 고아 객체
- 고아 객체란?
  - 부모 엔티티와 연관관계가 끊어진 자식 엔티티를 자동으로 삭제 하는 기능을 고아 객체라고 한다. 
  - 고아 객체 제거 기능을 활성화 하기 위해서 컬렉션에 orphanRemoval = true를 설정한다.